{
  "version": 3,
  "sources": ["src/spellbook/helpers.ts", "src/shortcodes.js"],
  "sourcesContent": ["function _cloneObject(o: object) {\n  let res = {}\n  for (const i in o) {\n    res[i] = clone(o[i])\n  }\n  return res\n}\n\nfunction _cloneArray(a: Array<any>) {\n  let res: Array<any> = []\n  for(var i = 0; i < a.length; i++) {\n    res[i] = clone(a[i])\n  }\n  return res\n}\n\n/**\n * Deep clone function that's mindful of arrays and objects\n * \n * @param {object} o The object to clone\n * @example\n * const obj = { foo: 'bar' }\n * const clone = clone(obj)\n * clone.foo = 'baz'\n * console.log(obj.foo) // 'bar'\n * console.log(clone.foo) // 'baz'\n */ \nfunction clone(o: any) {\n  let res: any = null\n  if(typeof o === 'object' && o !== null) {\n    res = _cloneObject(o)\n  } else if(Array.isArray(o)) {\n    res = _cloneArray(o)\n  } else {\n    res = o;\n  }\n  return res;\n}\n\nexport { clone }\n", "import { clone } from './spellbook/helpers';\n\n//TODO: THIS SHIT NEEDS A HEAVY REWRITE!!! YOU LAZY ASS!\n\n//TODO: decide if jQuery is really necessary\n\nfunction Shortcodes(options) {\n\tthis.descriptor_index = {};\n\tthis.exec_fns = {};\n\n\tthis.shopify_img_re = /^([a-z\\.:\\/]+\\.shopify\\.[a-z0-9\\/_\\-]+)(_[0-9]+x[0-9]*)(\\.[a-z]{3,4}.*)$/gi;\n\tthis.shopify_img_replacer_re = /^([a-z\\.:\\/]+\\.shopify\\.[a-z0-9\\/_\\-]+)(\\.[a-z]{3,4}.*)$/gi;\n\n\tif (!options) {\n\t\toptions = {};\n\t}\n\n\tthis.defaults = {\n\t\ttemplates: '#templates',\n\t\ttemplate_class: 'template',\n\t\tself_anchor_class: 'self-anchor',\n\t\tplacement_class_prefix: 'shortcode-landing'\n\t};\n\n\tthis.options = options;\n\n\tfor (var k in this.defaults) {\n\t\tif (!this.options.hasOwnProperty(k)) {\n\t\t\tthis.options[k] = this.defaults[k];\n\t\t}\n\t}\n}\n\nShortcodes.prototype.shopifyImageLink = function(src, width) {\n\tvar pref = '$1';\n\tvar suf = '$2';\n\tvar re = this.shopify_img_replacer_re;\n\n\tif (!re.test(src)) {\n\t\treturn src;\n\t}\n\n\tif (this.shopify_img_re.test(src)) {\n\t\tsuf = '$3';\n\t\tre = this.shopify_img_re;\n\t}\n\n\tif (!width) {\n\t\twidth = 100;\n\t}\n\n\tvar replacement = pref+'_'+width+'x'+suf;\n\treturn src.replace(re, replacement);\n};\n\nShortcodes.prototype.parseDOM = function($elem, one) {\n\tvar map = {};\n \tvar last_section = null;\n\n\t$elem = $($elem);\n\n \tvar children = $elem.length > 1 ? $elem : $($elem).children();\n \tvar re = /\\[([\\/a-z0-9\\-_\\s]+)\\]/gi;\n \tvar shortcode_counter = 0;\n\n \tfor (var i = 0; i < children.length; i++) {\n \t\tvar $child = $(children[i]);\n\n\t\tvar match = null;\n\n\t\tif (!($child.is('pre') || $child.find('pre').length)) { //only if it's not \"pre\" element\n\t\t\tvar text = $child.text().toLowerCase().trim();\n\n\t \t\tvar match = re.exec(text);\n\t \t\tre.lastIndex = 0; //regex needs a reset in for loops, I always forget this\n\t\t}\n\n \t\tif (match && match.length > 1) {\n\n \t\t\t// detect closing tag, replace with /^\\// regex\n \t\t\tif (match[1].indexOf('/') === 0 && last_section && last_section.indexOf(match[1].replace(/^\\//, '')) > -1) {\n \t\t\t\tlast_section = null;\n \t\t\t\t$child.remove();\n \t\t\t\tcontinue;\n \t\t\t}\n\n \t\t\tlast_section = match[1] + ' sc' + shortcode_counter;\n \t\t\tvar $self_locator = $('<div class=\"'+ this.options.self_anchor_class +' shortcode-'+last_section.split(/\\s+/)[0]+' sc'+shortcode_counter+'\" />');\n\n \t\t\tif (!map.hasOwnProperty(last_section)) {\n \t\t\t\tmap[last_section] = [];\n \t\t\t\tshortcode_counter++;\n \t\t\t}\n\n \t\t\t$child.before($self_locator);\n \t\t\tmap[last_section].push($self_locator);\n \t\t\t$child.remove();\n\n \t\t\tcontinue;\n \t\t}\n\n \t\tif (last_section) {\n \t\t\tmap[last_section].push($child);\n \t\t\t$child.detach();\n \t\t}\n\n \t\tif (one && last_section !== one) {\n \t\t\tif (map.hasOwnProperty(one)) {\n \t\t\t\treturn map[one];\n \t\t\t}\n \t\t}\n \t}\n\n \tif (one && map.hasOwnProperty(one)) {\n \t\treturn map[one];\n \t}\n \treturn map;\n};\n\n//if this isn't a God function I don't know what is... Wait, I know, it's a terrible nonrefactored code!\nShortcodes.prototype.sortDOM = function(descriptor, val) {\n\tvar re = /^\\{([a-z0-9\\-_\\s]+)\\}$/gi; //subtag attributes\n\n\tvar item_tags = []; //collects attributes per \"slide\"\n\tvar elements = {}; //sorted DOM per tag name\n\tvar other_than_rest = {};\n\tvar other_than_rest_count = 0;\n\tvar first_element_key = null;\n\tvar last_element_key = null;\n\tvar max_element_key = null;\n\n\tvar cycle_counter = 0;\n\tvar subtag_first_flag = false;\n\n\t//cycles are used for backaging the rest of elements in arrays\n\tfunction newCycle() {\n\t\tfillTheGaps();\n\t\tcycle_counter += 1;\n\t}\n\n\t//rest has to be always present, it is a default collection of all undefined elements\n\telements.rest = [];\n\n\tvar memo_block_template = {}; //this will hold all the tag names from elements and remove the ones found, so we can generate empty states for the not found ones\n\tvar memo_block = {};\n\n\tfunction fillTheGaps() {\n\t\tfor (var k in memo_block) {\n\t\t\telements[k].push(null);\n\t\t}\n\t\tmemo_block = newMemoBlock();\n\t}\n\n\t//clone temp memo_block\n\tfunction newMemoBlock() {\n\t\tres = {};\n\t\tfor (var k in memo_block_template) {\n\t\t\tres[k] = true;\n\t\t}\n\t\treturn res;\n\t}\n\n\t//extract other than rest\n\tif (descriptor.hasOwnProperty('elements')) {\n\t\tfor (var k in descriptor.elements) {\n\t\t\tif (k !== 'rest') {\n\t\t\t\tlast_element_key = k;\n\t\t\t\tif (!elements.hasOwnProperty(k)) {\n\t\t\t\t\telements[k] = [];\n\t\t\t\t}\n\n\t\t\t\tif (first_element_key === null) {\n\t\t\t\t\tfirst_element_key = k;\n\t\t\t\t}\n\n\t\t\t\tif (!other_than_rest.hasOwnProperty(k)) {\n\t\t\t\t\tother_than_rest[k] = true;\n\t\t\t\t\tother_than_rest_count++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tmemo_block_template[k] = true;\n\t\t\tmemo_block[k] = true;\n\t\t}\n\t}\n\n\tfor (var i = 0; i < val.length; i++) {\n\t\tvar $item = $(val[i]);\n\n\t\t//XXX: ??? did we stop using this? this might be a part of legacy code\n\t\tif ($item.hasClass('self-anchor')) {\n\t\t\t// find yourself in this confusion\n\t\t\tif (descriptor.anchor === 'self') {\n\t\t\t\tdescriptor.anchor = $item;\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\n\t\t//if the contents are empty\n\t\tif (!$item.is('img') && $item.html().trim() === '') {\n\t\t\tcontinue;\n\t\t}\n\n\t\tvar green_flag = false;\n\n\t\t//testing for slide attributes\n\t\tif (descriptor.hasOwnProperty('item_template')) {\n\t\t\tvar text = $item.text().toLowerCase().trim();\n\t\t\tvar match = re.exec(text);\n\t\t\tre.lastIndex = 0;\n\n\t\t\tif (match && match.length > 1) {\n\t\t\t\tif (cycle_counter || subtag_first_flag) {\n\t\t\t\t\tnewCycle();\n\t\t\t\t}\n\n\t\t\t\titem_tags[cycle_counter] = match[1];\n\t\t\t\tsubtag_first_flag = true;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\n\t\t//iterating found elements, sort defined\n\t\tif (other_than_rest_count) {\n\t\t\tfor (var k in other_than_rest) {\n\n\t\t\t\tif (elements[k].length === descriptor.elements[k].count) { //if the count of elements reatches set count skip iteration\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t//XXX: this is a temporary and very bad solution | this was written to be able to use images inside the ul/li as secondary images\n\t\t\t\tif (k === 'img' && $item.find('li').length) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvar $inner = $item.find(k); //gotta cover all the possible cases of undefined generated html\n\n\t\t\t\tif ($item.is(k) || $inner.length) { //if element is found\n\t\t\t\t\tif ($inner.length) {\n\t\t\t\t\t\t$item = $inner.first();\n\t\t\t\t\t}\n\n\t\t\t\t\t// if an element is found that belongs to a memo block but it's already processed - this means a new cycle must begin\n\t\t\t\t\tif (descriptor.hasOwnProperty('item_template') && !memo_block.hasOwnProperty(k)) {\n\t\t\t\t\t\tnewCycle();\n\t\t\t\t\t}\n\n\t\t\t\t\telements[k].push($item);\n\n\t\t\t\t\tif (descriptor.hasOwnProperty('item_template')) {\n\t\t\t\t\t\tdelete memo_block[k];\n\t\t\t\t\t}\n\t\t\t\t\tgreen_flag = true; // don't iterate the rest\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//iterating found elements, sort undefined = rest\n\t\tif (!green_flag) {\n\t\t\t//collecting other elements\n\t\t\tif (descriptor.hasOwnProperty('item_template')) { //if it is a repeater\n\t\t\t\tif (!elements.rest[cycle_counter]) {\n\t\t\t\t\tdelete memo_block['rest'];\n\t\t\t\t\telements.rest[cycle_counter] = [];\n\t\t\t\t}\n\t\t\t\telements.rest[cycle_counter].push($item[0]);\n\t\t\t} else {\n\t\t\t\telements.rest.push($item[0]);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (descriptor.hasOwnProperty('item_template')) {\n\t\tfillTheGaps();\n\t}\n\n\n\t// calculate which element has the most entries = number of slides\n\t// this will be used as a slide delimiter later on\n\tvar max_count = null;\n\n\tfor (var k in other_than_rest) {\n\t\tvar c = elements[k].length;\n\n\t\tif (max_element_key === null) {\n\t\t\tmax_element_key = k;\n\t\t\tmax_count = c;\n\t\t} else {\n\t\t\tif (c > max_count) {\n\t\t\t\tmax_element_key = k;\n\t\t\t\tmax_count = c;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\telements: elements,\n\t\t\t\titem_tags: item_tags,\n\t\t\t\tfirst_element_key: first_element_key,\n\t\t\t\tlast_element_key: last_element_key,\n\t\t\t\tmax_element_key: max_element_key\n\t};\n}\n\n//TODO: simplify with declarative programming\nShortcodes.prototype.executeProperties = function($item, $dest, props, descriptor, num) {\n\t// Extract DOM attributes\n\tif (props.extract_fn === 'attr') {\n\t\tif (typeof props.extract_attr === 'string') {\n\t\t\textract = $item[props.extract_fn](props.extract_attr);\n\n\t\t\tif ($item.is('img') && props.extract_attr === 'src') {\n\t\t\t\tif (extract && this.shopify_img_re.test(extract)) {\n\t\t\t\t\textract = extract.replace(this.shopify_img_re, '$1$3');\n\t\t\t\t}\n\t\t\t}\n\t\t} else { // if it has multiple attributes to extract, like alt image -> for binding use custom function\n\t\t\textract = [];\n\t\t\tfor (var i = 0; i < props.extract_attr.length; i++) {\n\t\t\t\tif (props.extract_attr[i] === 'html') {\n\t\t\t\t\textract.push($item.html());\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif ($item.is('img') && props.extract_attr[i] === 'src') {\n\t\t\t\t\tvar src = $item.attr('src');\n\t\t\t\t\tif (src && this.shopify_img_re.test(src)) {\n\t\t\t\t\t\textract.push(src.replace(this.shopify_img_re, '$1$3'));\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar attr = props.extract_attr[i];\n\t\t\t\textract.push($item[props.extract_fn](attr));\n\t\t\t}\n\t\t}\n\t// Extract DOM\n\t} else if (props.extract_fn === 'self') {\n\t\textract = $item;\n\t// Extract with jQuery function\n\t} else {\n\t\textract = $item[props.extract_fn]();\n\t}\n\n\t//TODO: should be extract_fn typeof function\n\tif (props.hasOwnProperty('parse')) {\n\t\tif (typeof props.parse === 'function') {\n\t\t\textract = props.parse(extract);  //execute custom extract parsing function\n\t\t} else {\n\t\t\tif (window.hasOwnProperty(props.parse)) {\n\t\t\t\textract = window[props.parse](extract);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (props.bind_fn === 'css'\n\t\t&& props.hasOwnProperty('bind_property')\n\t\t&& props.bind_property === 'background-image') {\n\t\textract  = 'url(' + extract + ')';\n\t} else if (typeof props.bind_fn === 'function') {\n\t\tprops.bind_fn(extract, $dest, props, descriptor, num); //execute custom bind function\n\t\treturn;\n\t}\n\n\t//do some auto binding\n\tswitch (props.anchor_element) {\n\t\tcase 'item':\n\t\t\t$target = $dest.find(props.anchor);\n\t\t\tif ($dest.is(props.anchor) && $target.length === 0) {\n\t\t\t\t$target = $dest;\n\t\t\t}\n\n\t\t\tif (props.bind_fn === 'css' && props.hasOwnProperty('bind_property')) {\n\t\t\t\t$target[props.bind_fn](props.bind_property, extract);\n\t\t\t} else {\n\t\t\t\t$target[props.bind_fn](extract);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'template':\n\t\t\t$target = $dest.find(props.anchor);\n\t\t\tif ($dest.is(props.anchor) && $target.length === 0) {\n\t\t\t\t$target = $dest;\n\t\t\t}\n\n\t\t\tif (props.bind_fn === 'css' && props.hasOwnProperty('bind_property')) {\n\t\t\t\t$target[props.bind_fn](props.bind_property, extract);\n\t\t\t} else {\n\t\t\t\t$target[props.bind_fn](extract);\n\t\t\t}\n\t\t\tbreak;\n\t\tdefault:\n\t\t\t$target = $(descriptor.anchor).find(props.anchor);\n\t\t\tif ($(descriptor.anchor).is(props.anchor) && $target.length === 0) {\n\t\t\t\t$target = $(descriptor.anchor);\n\t\t\t}\n\n\t\t\tif (props.bind_fn === 'css' && props.hasOwnProperty('bind_property')) {\n\t\t\t\t$target[props.bind_fn](props.bind_property, extract);\n\t\t\t} else {\n\t\t\t\t$target[props.bind_fn](extract);\n\t\t\t}\n\t}\n}\n\nShortcodes.prototype.bind = function(descriptor, val, parsed_attrs) {\n\tvar $template = null;\n\n\tif (descriptor.hasOwnProperty('template')) {\n\t\t$template = this.getTemplate(descriptor.template);\n\t}\n\n\tvar sorted = this.sortDOM(descriptor, val);\n\n\tif (descriptor.hasOwnProperty('item_template')) {\n\t\tfor (var i = 0; i < sorted.elements[sorted.max_element_key].length; i++) {\n\t\t\tvar $item_template = this.getTemplate(descriptor.item_template);\n\t\t\tif (sorted.item_tags[i]) {\n\t\t\t\t$item_template.addClass(sorted.item_tags[i]);\n\t\t\t}\n\n\t\t\tfor (var k in descriptor.elements) {\n\t\t\t\tvar props = descriptor.elements[k];\n\t\t\t\tif (sorted.elements[k][i]) { //if the element exists, may be an uneven number\n\t\t\t\t\tvar $item = $(sorted.elements[k][i]);\n\t\t\t\t\tthis.executeProperties($item, $item_template, props, descriptor, i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar $dest = descriptor.hasOwnProperty('template') ? $template.find(descriptor.item_anchor) : $(descriptor.anchor);\n\t\t\tif (typeof descriptor.bind_fn === 'function') {\n\t\t\t\tdescriptor.bind_fn($item_template, $dest, descriptor, parsed_attrs, i);\n\t\t\t} else {\n\t\t\t\t$dest[descriptor.bind_fn]($item_template);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif (descriptor.hasOwnProperty('elements')) {\n\t\t\tfor (var k in descriptor.elements) {\n\t\t\t\tvar props = descriptor.elements[k];\n\n\t\t\t\tif (sorted.elements.hasOwnProperty(k)) {\n\t\t\t\t\tfor (var i = 0; i < sorted.elements[k].length; i++) {\n\t\t\t\t\t\tvar $item = $(sorted.elements[k][i]);\n\t\t\t\t\t\tvar $dest = descriptor.hasOwnProperty('template') ? $template : $(descriptor.anchor);\n\t\t\t\t\t\tthis.executeProperties($item, $dest, props, descriptor, i);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tvar $dest = descriptor.hasOwnProperty('template') ? $template : $(descriptor.anchor);\n\t\t\tif (typeof descriptor.bind_fn === 'function') {\n\t\t\t\tdescriptor.bind_fn(sorted.elements.rest, $dest, descriptor, parsed_attrs);\n\t\t\t} else {\n\t\t\t\t$dest[descriptor.bind_fn](sorted.elements.rest);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (descriptor.hasOwnProperty('template')) {\n\t\tif (typeof descriptor.bind_fn === 'function') {\n\t\t\tdescriptor.bind_fn($template, $(descriptor.anchor), descriptor, parsed_attrs);\n\t\t} else {\n\t\t\t$(descriptor.anchor)[descriptor.bind_fn]($template);\n\t\t}\n\t\treturn $template;\n\t}\n\n\treturn $(descriptor.anchor);\n};\n\nShortcodes.prototype.getTemplate = function(selector) {\n\tvar $template = $(this.options.templates).find(selector+'.'+this.options.template_class).clone();\n\t$template.removeClass(this.options.template_class);\n\treturn $template;\n}\n\n//TODO: what about subtag attribute parses?\nShortcodes.prototype.parseAttributes = function(descriptor, attrs) {\n\tvar self = this;\n\tvar res = {\n\t\tclasses: [],\n\t\tcss: {}\n\t};\n\n\tvar fns = {};\n\n\t//option to add parsers from descriptor\n\tif (descriptor.hasOwnProperty('attribute_parsers')) {\n\t\tfor (var k in descriptor.attribute_parsers) {\n\t\t\tfns[k] = descriptor.attribute_parsers[k];\n\t\t}\n\t}\n\n\t//some default parsers\n\tfns['header'] = function(pts, descriptor, attr) {\n\t\tvar $header = null;\n\t\tif (descriptor.hasOwnProperty('header_selector') && descriptor.header_selector) {\n\t\t\t$header = $(descriptor.header_selector);\n\t\t}\n\n\t\tif ($header === null || !$header.length) {\n\t\t\t$header = $('header');\n\t\t}\n\n\t\tif ($header === null || !$header.length) {\n\t\t\t$header = $('body');\n\t\t}\n\n\t\t$header.addClass(pts.join('-'));\n\t}\n\n\tfns['placement'] = function(pts, descriptor, attr) {\n\t\tif (pts[0]) {\n\t\t\tif (pts[0] === 'content') {\n\t\t\t\tdescriptor.anchor = 'self';\n\t\t\t} else {\n\t\t\t\tdescriptor.anchor = '.' + self.options.placement_class_prefix + '-' + pts[0];\n\t\t\t}\n\t\t}\n\t}\n\n\tfns['background'] = function(pts, descriptor, attr) {\n\t\tif (pts[0] && pts[0] === 'color' && pts[1]) {\n\t\t\tres.css['background-color'] = '#'+pts[1];\n\t\t} else {\n\t\t\tres.classes.push(attr);\n\t\t}\n\t}\n\n\tfns['color'] = function(pts, descriptor, attr) {\n\t\tif (pts[0]) {\n\t\t\tres.css['color'] = pts[0];\n\t\t} else {\n\t\t\tres.classes.push(attr);\n\t\t}\n\t}\n\n\tfor (var i = 0; i < attrs.length; i++) {\n\t\tvar attr = attrs[i].trim().toLowerCase();\n\n\t\tif (/sc[0-9]+/gi.test(attr)) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tvar pts = attr.split('-');\n\t\tif (pts[0] && fns.hasOwnProperty(pts[0])) {\n\t\t\tfns[pts.shift()](pts, descriptor, attr);\n\t\t} else {\n\t\t\tres.classes.push(attr);\n\t\t}\n\t}\n\n\treturn res;\n};\n\nShortcodes.prototype.register = function(shortcode_name, descriptor) {\n\tthis.descriptor_index[shortcode_name] = descriptor;\n\tvar self = this;\n\n\tthis.exec_fns[shortcode_name] = function(k, attrs, val) {\n\t\tvar descriptor = clone(self.descriptor_index[k]);\n\n\t\tvar parsed_attrs = self.parseAttributes(descriptor, attrs);\n\n\t\tif (descriptor.hasOwnProperty('pre') && descriptor.pre) {\n\t\t\tdescriptor.pre(descriptor, attrs, val, parsed_attrs);\n\t\t}\n\n\t\tvar $template = self.bind(descriptor, val, parsed_attrs);\n\n\t\t$template.addClass(parsed_attrs.classes.join(' '));\n\t\t$template.css(parsed_attrs.css);\n\t\t$template.addClass('shortcode-js');\n\n\t\t//TODO: per item callback\n\t\tif (descriptor.hasOwnProperty('callback') && descriptor.callback) {\n\t\t\tdescriptor.callback($template, parsed_attrs, descriptor);\n\t\t}\n\t};\n};\n\nShortcodes.prototype.execute = function($elem, callback) {\n\t$($elem).css('visibility', 'hidden');\n\tvar shortcode_map = this.parseDOM($elem);\n\n\tfor (var k in shortcode_map) {\n\t\tvar attrs = k.split(/\\s+/gi);\n\n\t\tvar fn_name = attrs.shift();\n\n\t\tif (this.exec_fns.hasOwnProperty(fn_name)) {\n\t\t\tthis.exec_fns[fn_name](fn_name, attrs, shortcode_map[k]);\n\t\t}\n\t}\n\n\t$($elem).css('visibility', 'visible');\n\n\tif (callback !== undefined) {\n\t\tcallback(shortcode_map, this.exec_fns);\n\t}\n};\n\nShortcodes.prototype.clear = function() {\n\t$('.shortcode-js').remove();\n\t$('.self-anchor').remove();\n};\n\nShortcodes.prototype.reinit = function($elem, callback) {\n\tthis.clear();\n\tthis.execute($elem, callback);\n};\n"],
  "mappings": "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",
  "names": ["res", "k", "res", "pts", "descriptor", "attr"]
}
